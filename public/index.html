<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible " content="IE=edge ">
    <meta name="viewport " content="width=device-width, initial-scale=1.0 ">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css " rel="stylesheet " integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl " crossorigin="anonymous ">
    <link rel="stylesheet " href="styles/style.css ">
    <script src="js/models/constants.js"></script>
    <script src="js/models/serviceStatuses.js"></script>
    <script>
        async function updateServiceStatuses() {
            let promise = await getServiceStatuses(SERVER_ADDRESS);
            loadToTableBody(promise, 'serviceStatusesTbody');
            return promise;
        }
    </script>
    <title>Server dashboard</title>
</head>

<body>
    <header id="mainHeader">
        <div class="container-fluid ">
            <div class="row ">
                <div class="col ">
                    <h3 class="text-center " id="headerText ">Server dashboard</h3>
                </div>
            </div>
        </div>
    </header>

    <div class="container-fluid ">
        <div class="row ">
            <table class="table table-hover table-striped " id="serviceStatusesTable">
                <thead class="thead-dark " id="serviceStatusesThead">
                    <tr>
                        <th>Application</th>
                        <th>Address</th>
                        <th>Port</th>
                        <th>Status</th>
                        <th>Domain name</th>
                    </tr>
                </thead>
                <tbody id="serviceStatusesTbody">
                </tbody>
            </table>
        </div>
        <div class="row col-centered">
            <div class="col col-centered" id="loadingDiv">
                <img id="loadingImage" src="images/SpeedyInsecureHawk-small.gif" alt="Loading..." style="width: 200px;">
                <span style="margin: auto;">Loading...</span>
            </div>
        </div>
    </div>
    <hr>
    <div id="copyright" style="text-align: center;">
        &copy Orkoshov Nurmukhammed 2021
    </div>
    <script src="js/views/serviceStatusesTable.js"></script>
    <script>
        setInterval(updateServiceStatuses, 5000);
        updateServiceStatuses()
            .then(() => {
                document.getElementById('loadingDiv').style.visibility = 'hidden';
            })
    </script>
</body>

</html>